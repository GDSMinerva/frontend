<!-- Desktop Sidebar -->
<aside
  class="hidden lg:flex flex-col fixed left-0 top-0 h-screen bg-white dark:bg-[#0F1629]/80 z-20 border-r border-[#F1F5F9] dark:border-[#8B5CF6]/20 dark:backdrop-blur-md transition-[width] duration-300 ease-in-out"
  [class.w-[280px]]="!sidebarCollapsed()"
  [class.w-[80px]]="sidebarCollapsed()"
>
  <div class="p-4 lg:p-6 overflow-hidden">
    <div class="flex items-center gap-3 mb-10 px-2 min-h-[3rem]">
      <img
        *ngIf="!sidebarCollapsed()"
        src="/assets/logo-light.png"
        alt="CareerSeed"
        class="app-logo logo-glow max-w-[160px] h-14 object-contain object-left transition-opacity duration-300"
      />
    </div>
    <nav class="space-y-2">
      <button type="button" (click)="setActiveTab('dashboard')" class="w-full px-3 py-3 rounded-lg lg:rounded-xl font-medium transition-all text-left" 
        [ngClass]="activeTab() === 'dashboard' 
          ? 'bg-gradient-to-r from-[#7C3AED] to-[#06B6D4] text-white shadow-lg dark:shadow-neon-soft' 
          : 'text-slate-600 dark:text-[#A1A1AA] hover:text-slate-900 dark:hover:text-[#22D3EE] hover:bg-slate-50 dark:hover:bg-[#8B5CF6]/10'">
        <span class="flex items-center gap-4">
          <span class="material-symbols-outlined shrink-0" [class.filled]="activeTab() === 'dashboard'">grid_view</span>
          <span class="whitespace-nowrap text-sm lg:text-base" [class.hidden]="sidebarCollapsed()">Dashboard</span>
        </span>
      </button>
      <button type="button" (click)="setActiveTab('job-matching')" class="w-full px-3 py-3 rounded-lg lg:rounded-xl font-medium transition-all text-left"
        [ngClass]="activeTab() === 'job-matching'
          ? 'bg-gradient-to-r from-[#7C3AED] to-[#06B6D4] text-white shadow-lg dark:shadow-neon-soft'
          : 'text-slate-600 dark:text-[#A1A1AA] hover:text-slate-900 dark:hover:text-[#22D3EE] hover:bg-slate-50 dark:hover:bg-[#8B5CF6]/10'">
        <span class="flex items-center gap-4">
          <span class="material-symbols-outlined shrink-0" [class.filled]="activeTab() === 'job-matching'">work</span>
          <span class="whitespace-nowrap text-sm lg:text-base" [class.hidden]="sidebarCollapsed()">Job Matching</span>
        </span>
      </button>
      <button type="button" (click)="setActiveTab('interview-simulator')" class="w-full px-3 py-3 rounded-lg lg:rounded-xl font-medium transition-all text-left"
        [ngClass]="activeTab() === 'interview-simulator'
          ? 'bg-gradient-to-r from-[#7C3AED] to-[#06B6D4] text-white shadow-lg dark:shadow-neon-soft'
          : 'text-slate-600 dark:text-[#A1A1AA] hover:text-slate-900 dark:hover:text-[#22D3EE] hover:bg-slate-50 dark:hover:bg-[#8B5CF6]/10'">
        <span class="flex items-center gap-4">
          <span class="material-symbols-outlined shrink-0" [class.filled]="activeTab() === 'interview-simulator'">mic</span>
          <span class="whitespace-nowrap text-sm lg:text-base" [class.hidden]="sidebarCollapsed()">Interview Simulator</span>
        </span>
      </button>
      <button type="button" (click)="setActiveTab('courses-projects')" class="w-full px-3 py-3 rounded-lg lg:rounded-xl font-medium transition-all text-left"
        [ngClass]="activeTab() === 'courses-projects'
          ? 'bg-gradient-to-r from-[#7C3AED] to-[#06B6D4] text-white shadow-lg dark:shadow-neon-soft'
          : 'text-slate-600 dark:text-[#A1A1AA] hover:text-slate-900 dark:hover:text-[#22D3EE] hover:bg-slate-50 dark:hover:bg-[#8B5CF6]/10'">
        <span class="flex items-center gap-4">
          <span class="material-symbols-outlined shrink-0" [class.filled]="activeTab() === 'courses-projects'">school</span>
          <span class="whitespace-nowrap text-sm lg:text-base" [class.hidden]="sidebarCollapsed()">Courses &amp; Projects</span>
        </span>
      </button>
      <button type="button" (click)="setActiveTab('support-feedback')" class="w-full px-3 py-3 rounded-lg lg:rounded-xl font-medium transition-all text-left"
        [ngClass]="activeTab() === 'support-feedback'
          ? 'bg-gradient-to-r from-[#7C3AED] to-[#06B6D4] text-white shadow-lg dark:shadow-neon-soft'
          : 'text-slate-600 dark:text-[#A1A1AA] hover:text-slate-900 dark:hover:text-[#22D3EE] hover:bg-slate-50 dark:hover:bg-[#8B5CF6]/10'">
        <span class="flex items-center gap-4">
          <span class="material-symbols-outlined shrink-0" [class.filled]="activeTab() === 'support-feedback'">help</span>
          <span class="whitespace-nowrap text-sm lg:text-base" [class.hidden]="sidebarCollapsed()">Support &amp; Feedback</span>
        </span>
      </button>
    </nav>
  </div>
  <div class="mt-auto p-4 border-t border-[#F1F5F9] dark:border-[#8B5CF6]/20">
    <button
      type="button"
      (click)="toggleSidebar()"
      class="flex items-center justify-center gap-3 px-4 py-3 rounded-lg lg:rounded-xl text-slate-600 dark:text-[#A1A1AA] hover:text-slate-900 dark:hover:text-[#22D3EE] transition-colors text-xs font-bold uppercase tracking-widest w-full hover:bg-slate-50 dark:hover:bg-[#8B5CF6]/10 dark:hover:border dark:hover:border-[#8B5CF6]/30"
      [attr.aria-label]="sidebarCollapsed() ? 'Expand sidebar' : 'Collapse sidebar'"
    >
      <span class="material-symbols-outlined text-lg shrink-0" [class.rotate-180]="sidebarCollapsed()">menu_open</span>
      <span class="whitespace-nowrap" [class.hidden]="sidebarCollapsed()">Collapse Sidebar</span>
    </button>
  </div>
</aside>

<!-- Mobile Sidebar -->
<aside
  *ngIf="isMobileSidebarOpen()"
  class="fixed inset-0 z-30 lg:hidden bg-white dark:bg-[#0F1629]/95 backdrop-blur-md overflow-auto animate-in"
>
  <div class="p-4">
    <div class="flex items-center justify-between mb-6">
      <img
        src="/assets/logo-light.png"
        alt="CareerSeed"
        class="app-logo logo-glow max-w-[160px] h-12 object-contain object-left"
      />
      <button
        (click)="closeMobileSidebar()"
        class="p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors"
      >
        <span class="material-symbols-outlined text-slate-600 dark:text-slate-300">close</span>
      </button>
    </div>
    <nav class="space-y-2">
      <button type="button" (click)="setActiveTab('dashboard')" class="w-full px-4 py-3 rounded-lg font-medium transition-all text-left"
        [ngClass]="activeTab() === 'dashboard'
          ? 'bg-gradient-to-r from-[#7C3AED] to-[#06B6D4] text-white'
          : 'text-slate-600 dark:text-[#A1A1AA] hover:bg-slate-50 dark:hover:bg-[#8B5CF6]/10'">
        <span class="flex items-center gap-4">
          <span class="material-symbols-outlined shrink-0" [class.filled]="activeTab() === 'dashboard'">grid_view</span>
          <span>Dashboard</span>
        </span>
      </button>
      <button type="button" (click)="setActiveTab('job-matching')" class="w-full px-4 py-3 rounded-lg font-medium transition-all text-left"
        [ngClass]="activeTab() === 'job-matching'
          ? 'bg-gradient-to-r from-[#7C3AED] to-[#06B6D4] text-white'
          : 'text-slate-600 dark:text-[#A1A1AA] hover:bg-slate-50 dark:hover:bg-[#8B5CF6]/10'">
        <span class="flex items-center gap-4">
          <span class="material-symbols-outlined shrink-0" [class.filled]="activeTab() === 'job-matching'">work</span>
          <span>Job Matching</span>
        </span>
      </button>
      <button type="button" (click)="setActiveTab('interview-simulator')" class="w-full px-4 py-3 rounded-lg font-medium transition-all text-left"
        [ngClass]="activeTab() === 'interview-simulator'
          ? 'bg-gradient-to-r from-[#7C3AED] to-[#06B6D4] text-white'
          : 'text-slate-600 dark:text-[#A1A1AA] hover:bg-slate-50 dark:hover:bg-[#8B5CF6]/10'">
        <span class="flex items-center gap-4">
          <span class="material-symbols-outlined shrink-0" [class.filled]="activeTab() === 'interview-simulator'">mic</span>
          <span>Interview Simulator</span>
        </span>
      </button>
      <button type="button" (click)="setActiveTab('courses-projects')" class="w-full px-4 py-3 rounded-lg font-medium transition-all text-left"
        [ngClass]="activeTab() === 'courses-projects'
          ? 'bg-gradient-to-r from-[#7C3AED] to-[#06B6D4] text-white'
          : 'text-slate-600 dark:text-[#A1A1AA] hover:bg-slate-50 dark:hover:bg-[#8B5CF6]/10'">
        <span class="flex items-center gap-4">
          <span class="material-symbols-outlined shrink-0" [class.filled]="activeTab() === 'courses-projects'">school</span>
          <span>Courses &amp; Projects</span>
        </span>
      </button>
      <button type="button" (click)="setActiveTab('support-feedback')" class="w-full px-4 py-3 rounded-lg font-medium transition-all text-left"
        [ngClass]="activeTab() === 'support-feedback'
          ? 'bg-gradient-to-r from-[#7C3AED] to-[#06B6D4] text-white'
          : 'text-slate-600 dark:text-[#A1A1AA] hover:bg-slate-50 dark:hover:bg-[#8B5CF6]/10'">
        <span class="flex items-center gap-4">
          <span class="material-symbols-outlined shrink-0" [class.filled]="activeTab() === 'support-feedback'">help</span>
          <span>Support &amp; Feedback</span>
        </span>
      </button>
    </nav>
  </div>
</aside>

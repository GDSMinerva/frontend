<div class="min-h-screen bg-white dark:bg-[#0B0F1A] text-slate-800 dark:text-white transition-colors duration-300">
  <app-user-sidebar #sidebar></app-user-sidebar>

  <main class="transition-all duration-300 min-h-screen relative overflow-y-auto bg-gradient-to-b from-slate-50 dark:from-transparent dark:to-transparent dark:bg-[#0B1120]" [ngClass]="{'lg:ml-[280px]': !sidebar.sidebarCollapsed(), 'lg:ml-[80px]': sidebar.sidebarCollapsed()}">
    <!-- Dotpattern Background -->
    <om-dotpattern class="absolute inset-0 pointer-events-none dark:z-0"></om-dotpattern>
    
    <!-- Decorative gradient overlay (dark mode only) -->
    <div class="absolute top-0 left-0 w-full h-[500px] bg-gradient-to-b from-slate-700/5 dark:from-[#8B5CF6]/5 to-transparent pointer-events-none dark:z-0"></div>

    <div class="relative z-10">
      <!-- Header -->
      <header class="flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 lg:p-6 border-b border-slate-200 dark:border-[#8B5CF6]/20 bg-white/50 dark:bg-[#0F1629]/30 backdrop-blur-sm">
        <div class="flex items-center justify-between gap-4 w-full sm:w-auto">
          <h1 class="text-lg lg:text-5xl font-bold tracking-tight">
            <span class="text-purple-600 dark:text-transparent dark:bg-clip-text dark:bg-gradient-to-r dark:from-purple-400 dark:via-cyan-400 dark:to-purple-400">Welcome, {{ (authState$ | async)?.user?.firstName || (authState$ | async)?.user?.email || 'User' }}!</span>
          </h1>
          <!-- Mobile Menu Toggle -->
          <button
            (click)="sidebar.toggleMobileSidebar()"
            class="lg:hidden p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors"
            [attr.aria-label]="sidebar.isMobileSidebarOpen() ? 'Close menu' : 'Open menu'"
          >
            <span class="material-symbols-outlined text-slate-600 dark:text-slate-300">
              {{ sidebar.isMobileSidebarOpen() ? 'close' : 'menu' }}
            </span>
          </button>
        </div>
        <div class="flex items-center gap-3 sm:gap-4">
          <p class="text-xs text-slate-500 dark:text-slate-400 hidden sm:block">Ready to optimize your career path?</p>
          <om-theme-toggle
            [animationStyle]="'circle'"
            [duration]="400"
            class="theme-toggle-btn w-10 h-10 rounded-lg bg-white dark:bg-[#0F1629]/80 border border-slate-200 dark:border-[#8B5CF6]/30 shadow-sm dark:shadow-lg dark:shadow-[#8B5CF6]/30 flex items-center justify-center hover:scale-105 dark:hover:bg-[#8B5CF6]/20 dark:hover:border-[#8B5CF6]/60 transition-all"
          >
            <span darkIcon class="material-symbols-outlined text-slate-600 dark:text-[#22D3EE] text-xl">light_mode</span>
            <span lightIcon class="material-symbols-outlined text-slate-300 text-xl">dark_mode</span>
          </om-theme-toggle>
          <div class="flex items-center gap-3 pl-4 border-l border-slate-200 dark:border-[#8B5CF6]/20 hidden sm:flex">
            <div class="text-right">
              <p class="font-medium text-slate-900 dark:text-white leading-tight text-xs">User</p>
              <button (click)="logout()" class="text-[10px] text-slate-400 dark:text-[#A1A1AA] hover:text-[#7C3AED] dark:hover:text-[#22D3EE] flex items-center justify-end gap-0.5 mt-0.5 transition-colors">
                <span class="material-symbols-outlined text-xs">logout</span>
                LOGOUT
              </button>
            </div>
            <div class="w-10 h-10 rounded-full bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-700 dark:to-slate-800 border-2 border-white dark:border-slate-600 shadow-sm dark:shadow-lg dark:shadow-[#8B5CF6]/20 flex items-center justify-center shrink-0">
              <span class="material-symbols-outlined text-slate-500 dark:text-slate-300 text-xl">person</span>
            </div>
          </div>
        </div>
      </header>

      <!-- Tab content -->
      <div class="p-4 lg:p-6">
        @switch (sidebar.activeTab()) {
          @case ('dashboard') {
        <div class="bg-white dark:bg-gradient-to-b dark:from-[#0b1120]/95 dark:to-[#0b1120]  dark:backdrop-blur-xl border border-slate-200 dark:border-[#8B5CF6]/20 rounded-2xl shadow-xl dark:shadow-[0_0_30px_rgba(139,92,246,0.15)] p-5 max-w-5xl mx-auto">
          <div class="flex items-center gap-2 mb-6">
            <div class="w-8 h-8 rounded-lg bg-violet-50 dark:bg-[#8B5CF6]/10 text-[#7C3AED] dark:text-[#22D3EE] flex items-center justify-center">
              <span class="material-symbols-outlined text-lg">document_scanner</span>
            </div>
            <h2 class="text-base lg:text-lg font-bold font-display text-slate-900 dark:text-white">New scan</h2>
          </div>

          <div class="grid grid-cols-1 lg:grid-cols-12 gap-6">
            <!-- Upload Resume Section -->
            <div class="lg:col-span-5 flex flex-col">
              <div class="flex items-center justify-between mb-3">
                <h3 class="text-xs font-semibold text-slate-400 dark:text-slate-300 uppercase tracking-wider flex items-center gap-1.5">
                  <span class="w-5 h-5 rounded-full bg-[#7C3AED] dark:bg-[#8B5CF6]/20 text-white dark:text-[#22D3EE] text-[9px] flex items-center justify-center font-bold border dark:border-[#8B5CF6]/30">1</span>
                  Upload Resume
                </h3>
                <button class="text-[10px] font-medium text-[#7C3AED] dark:text-[#22D3EE] hover:underline flex items-center gap-1 transition-colors">
                  <span class="material-symbols-outlined text-xs">history</span>
                  Saved Resumes
                </button>
              </div>

              <div class="flex-1 min-h-[340px] border-2 border-dashed border-slate-200 dark:border-[#8B5CF6]/60 rounded-2xl bg-slate-50/50 dark:bg-[#0B0F1A]/40 flex flex-col items-center justify-center p-6 text-center group hover:border-[#7C3AED] dark:hover:border-[#22D3EE] transition-all duration-300 dark:hover:shadow-[inset_0_0_20px_rgba(34,211,238,0.1)] relative overflow-hidden">
                <div class="absolute inset-0 bg-gradient-to-tr from-[#7C3AED]/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none dark:hidden"></div>
                <div class="w-16 h-16 rounded-full bg-white dark:bg-[#0F1629]/60 shadow-sm border border-slate-100 dark:border-[#8B5CF6]/30 flex items-center justify-center mb-3 group-hover:scale-110 dark:group-hover:scale-125 transition-transform duration-300 relative">
                  <span class="material-symbols-outlined text-3xl text-[#7C3AED] dark:text-[#8B5CF6] group-hover:text-[#06B6D4] dark:group-hover:text-[#22D3EE] transition-colors duration-300">cloud_upload</span>
                </div>
                <p class="text-xs text-slate-900 dark:text-[#E0E7FF] font-medium mb-1.5">Drag &amp; Drop or Upload</p>
                <p class="text-[10px] text-slate-400 dark:text-[#A1A1AA] mb-4 font-medium">Supports PDF, DOCX (Max 5MB)</p>
                <button class="px-4 py-2 rounded-lg lg:rounded-full border border-slate-200 dark:border-[#8B5CF6]/30 bg-white dark:bg-[#0F1629]/60 font-medium text-[10px] text-slate-700 dark:text-[#E0E7FF] flex items-center gap-1.5 hover:bg-slate-50 dark:hover:bg-[#8B5CF6]/10 dark:hover:border-[#8B5CF6]/60 transition-all shadow-sm">
                  <span class="material-symbols-outlined text-sm">add</span>
                  Choose File
                </button>
                <p class="text-[10px] text-slate-400 dark:text-[#A1A1AA] mt-4 italic font-medium">Or copy and paste resume here</p>
              </div>
            </div>

            <!-- Job Details Section -->
            <div class="lg:col-span-7 flex flex-col">
              <h3 class="text-sm font-semibold text-slate-400 dark:text-[#E0E7FF] mb-4 uppercase tracking-wider flex items-center gap-2">
                <span class="w-6 h-6 rounded-full bg-[#06B6D4] dark:bg-[#22D3EE]/20 text-white dark:text-[#22D3EE] text-xs flex items-center justify-center font-bold border dark:border-[#22D3EE]/30">2</span>
                Job Details
              </h3>

              <div class="flex-1 min-h-[340px] border border-slate-200 dark:border-[#8B5CF6]/20 rounded-2xl bg-slate-50/50 dark:bg-[#0B0F1A]/40 overflow-hidden flex flex-col md:flex-row shadow-sm dark:shadow-lg dark:shadow-[#8B5CF6]/10">
                <!-- Job Description Textarea -->
                <div class="flex-1 flex flex-col p-6 border-b md:border-b-0 md:border-r border-slate-200 dark:border-[#8B5CF6]/20">
                  <label class="text-sm font-bold text-slate-400 dark:text-[#E0E7FF] mb-4 flex items-center gap-2">
                    <span class="material-symbols-outlined text-base">description</span>
                    Paste Job Description
                  </label>
                  <div class="flex-1 bg-white dark:bg-[#0F1629]/60 rounded-lg border border-slate-200 dark:border-[#8B5CF6]/20 hover:border-[#7C3AED] dark:hover:border-[#8B5CF6]/50 transition-colors">
                    <textarea class="w-full h-full p-4 text-sm bg-transparent border-none focus:ring-1 focus:ring-[#7C3AED] dark:focus:ring-[#22D3EE] rounded-lg resize-none text-slate-600 dark:text-[#E0E7FF] placeholder:text-slate-400 dark:placeholder:text-[#A1A1AA] outline-none transition-all" placeholder="Copy and paste job description here..."></textarea>
                  </div>
                </div>

                <!-- Divider -->
                <div class="hidden md:flex flex-col items-center justify-center relative px-0 bg-gradient-to-b from-transparent via-slate-200 dark:via-[#8B5CF6]/10 to-transparent">
                  <div class="h-full w-[1px]"></div>
                  <div class="absolute bg-white dark:bg-[#0F1629]/80 border border-slate-200 dark:border-[#8B5CF6]/30 px-2 py-1 text-[10px] font-bold text-slate-400 dark:text-[#A1A1AA] uppercase tracking-widest rounded-md">OR</div>
                </div>
                <div class="md:hidden flex items-center justify-center py-3 px-6 relative bg-gradient-to-r from-transparent via-slate-200 dark:via-[#8B5CF6]/10 to-transparent">
                  <div class="absolute bg-white dark:bg-[#0F1629]/80 border border-slate-200 dark:border-[#8B5CF6]/30 px-3 text-[10px] font-bold text-slate-400 dark:text-[#A1A1AA] uppercase tracking-widest rounded-md">OR</div>
                </div>

                <!-- Sample Job Descriptions -->
                <div class="flex-1 flex flex-col p-6 overflow-hidden">
                  <label class="text-sm font-bold text-slate-400 dark:text-[#E0E7FF] mb-4 flex items-center gap-2">
                    <span class="material-symbols-outlined text-base">play_circle</span>
                    Use Sample Description
                  </label>
                  <div class="flex-1 overflow-y-auto space-y-1 pr-2 custom-scrollbar">
                    <button 
                      *ngFor="let job of sampleJobTitles; let i = index" 
                      (click)="toggleSampleJob(job)"
                      class="w-full text-left px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 hover:pl-5 group flex items-center gap-3"
                      [ngClass]="isSampleJobSelected(job) 
                        ? 'bg-[#7C3AED]/10 dark:bg-white/10 text-[#7C3AED] dark:text-[#22D3EE] border border-[#7C3AED]/30 dark:border-white/20' 
                        : 'text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-white/5 hover:text-[#7C3AED] dark:hover:text-[#22D3EE] border border-transparent hover:border-slate-200 dark:hover:border-white/5'"
                    >
                      <div class="flex items-center justify-center w-4 h-4 rounded border-2 shrink-0 transition-all" 
                        [ngClass]="isSampleJobSelected(job) 
                          ? 'border-[#7C3AED] dark:border-[#22D3EE] bg-[#7C3AED] dark:bg-[#22D3EE]' 
                          : 'border-slate-400 dark:border-slate-500'">
                        <span *ngIf="isSampleJobSelected(job)" class="material-symbols-outlined text-white text-xs">check</span>
                      </div>
                      <span class="flex-1">{{ job }}</span>
                      <span class="material-symbols-outlined text-[16px] opacity-0 group-hover:opacity-100 transition-opacity">arrow_forward</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Action Buttons -->
          <div class="mt-10 pt-8 border-t border-slate-200 dark:border-[#8B5CF6]/20 flex justify-end">
            <button class="w-full sm:w-auto px-8 lg:px-12 py-3 lg:py-4 bg-gradient-to-r from-[#7C3AED] to-[#06B6D4] dark:from-[#8B5CF6] dark:to-[#22D3EE] text-white font-bold rounded-lg lg:rounded-xl shadow-lg dark:shadow-[0_0_20px_rgba(34,211,238,0.3)] hover:shadow-xl dark:hover:shadow-[0_0_30px_rgba(34,211,238,0.5)] hover:scale-[1.02] dark:hover:brightness-110 transition-all flex items-center justify-center gap-2 text-base relative overflow-hidden group">
              <span class="relative z-10">Start AI Scan</span>
              <span class="material-symbols-outlined relative z-10 group-hover:animate-pulse">rocket_launch</span>
              <div class="absolute inset-0 bg-white/20 dark:bg-white/10 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700 skew-x-12"></div>
            </button>
          </div>
        </div>
          }
          @case ('job-matching') {
        <div class="bg-white dark:bg-gradient-to-b dark:from-[#0F1629]/60 dark:to-[#0B0F1A]/80 dark:backdrop-blur-xl border border-slate-200 dark:border-[#8B5CF6]/20 rounded-2xl shadow-xl dark:shadow-[0_0_30px_rgba(139,92,246,0.15)] p-8 max-w-5xl mx-auto">
          <div class="flex items-center gap-3 mb-6">
            <div class="w-10 h-10 rounded-lg bg-violet-50 dark:bg-[#8B5CF6]/10 text-[#7C3AED] dark:text-[#22D3EE] flex items-center justify-center">
              <span class="material-symbols-outlined">work</span>
            </div>
            <h2 class="text-xl lg:text-2xl font-bold text-slate-900 dark:text-white">Job Matching</h2>
          </div>
          <p class="text-slate-600 dark:text-slate-400">Find roles that match your profile. Upload your resume and we'll suggest relevant jobs and match scores.</p>
          <div class="mt-6 p-6 rounded-xl bg-slate-50 dark:bg-[#0B0F1A]/40 border border-slate-200 dark:border-[#8B5CF6]/20 text-center text-slate-500 dark:text-slate-400 text-sm">Job matching content coming soon.</div>
        </div>
          }
          @case ('interview-simulator') {
        <div class="bg-white dark:bg-gradient-to-b dark:from-[#0F1629]/60 dark:to-[#0B0F1A]/80 dark:backdrop-blur-xl border border-slate-200 dark:border-[#8B5CF6]/20 rounded-2xl shadow-xl dark:shadow-[0_0_30px_rgba(139,92,246,0.15)] p-8 max-w-5xl mx-auto">
          <div class="flex items-center gap-3 mb-6">
            <div class="w-10 h-10 rounded-lg bg-violet-50 dark:bg-[#8B5CF6]/10 text-[#7C3AED] dark:text-[#22D3EE] flex items-center justify-center">
              <span class="material-symbols-outlined">mic</span>
            </div>
            <h2 class="text-xl lg:text-2xl font-bold text-slate-900 dark:text-white">Interview Simulator</h2>
          </div>
          <p class="text-slate-600 dark:text-slate-400">Practice interviews with AI. Get feedback and improve your answers.</p>
          <div class="mt-6 p-6 rounded-xl bg-slate-50 dark:bg-[#0B0F1A]/40 border border-slate-200 dark:border-[#8B5CF6]/20 text-center text-slate-500 dark:text-slate-400 text-sm">Interview simulator content coming soon.</div>
        </div>
          }
          @case ('courses-projects') {
        <div class="bg-white dark:bg-gradient-to-b dark:from-[#0F1629]/60 dark:to-[#0B0F1A]/80 dark:backdrop-blur-xl border border-slate-200 dark:border-[#8B5CF6]/20 rounded-2xl shadow-xl dark:shadow-[0_0_30px_rgba(139,92,246,0.15)] p-8 max-w-5xl mx-auto">
          <div class="flex items-center gap-3 mb-6">
            <div class="w-10 h-10 rounded-lg bg-violet-50 dark:bg-[#8B5CF6]/10 text-[#7C3AED] dark:text-[#22D3EE] flex items-center justify-center">
              <span class="material-symbols-outlined">school</span>
            </div>
            <h2 class="text-xl lg:text-2xl font-bold text-slate-900 dark:text-white">Courses &amp; Projects</h2>
          </div>
          <p class="text-slate-600 dark:text-slate-400">Browse courses and projects to close skill gaps and boost your profile.</p>
          <div class="mt-6 p-6 rounded-xl bg-slate-50 dark:bg-[#0B0F1A]/40 border border-slate-200 dark:border-[#8B5CF6]/20 text-center text-slate-500 dark:text-slate-400 text-sm">Courses and projects content coming soon.</div>
        </div>
          }
          @case ('support-feedback') {
        <div class="bg-white dark:bg-gradient-to-b dark:from-[#0F1629]/60 dark:to-[#0B0F1A]/80 dark:backdrop-blur-xl border border-slate-200 dark:border-[#8B5CF6]/20 rounded-2xl shadow-xl dark:shadow-[0_0_30px_rgba(139,92,246,0.15)] p-8 max-w-5xl mx-auto">
          <div class="flex items-center gap-3 mb-6">
            <div class="w-10 h-10 rounded-lg bg-violet-50 dark:bg-[#8B5CF6]/10 text-[#7C3AED] dark:text-[#22D3EE] flex items-center justify-center">
              <span class="material-symbols-outlined">help</span>
            </div>
            <h2 class="text-xl lg:text-2xl font-bold text-slate-900 dark:text-white">Support &amp; Feedback</h2>
          </div>
          <p class="text-slate-600 dark:text-slate-400">Get help or send us feedback. We're here to improve your experience.</p>
          <div class="mt-6 p-6 rounded-xl bg-slate-50 dark:bg-[#0B0F1A]/40 border border-slate-200 dark:border-[#8B5CF6]/20 text-center text-slate-500 dark:text-slate-400 text-sm">Support and feedback content coming soon.</div>
        </div>
          }
        }

        <!-- Footer -->
        <p class="mt-8 text-center text-xs text-slate-400 dark:text-[#A1A1AA] max-w-5xl mx-auto">
          By using CareerSeed, you agree to our <a href="#" class="underline hover:text-[#7C3AED] dark:hover:text-[#22D3EE] transition-colors">Terms of Service</a> and <a href="#" class="underline hover:text-[#7C3AED] dark:hover:text-[#22D3EE] transition-colors">Privacy Policy</a>.
        </p>
      </div>
    </div>
  </main>
</div>